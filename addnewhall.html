<!DOCTYPE html>
<html>
<head>
	<title>GB</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width , initial=1">
	<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="css/font-awesome.min.css">
	<link rel="stylesheet" type="text/css" href="css/addnewhall.css">
    <link rel="stylesheet" type="text/css" href="css/animate.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Lobster" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Merienda" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Amaranth" rel="stylesheet">
</head>
<body>
    <section class="nav">
<div class="navbar">
<div class="container-fluid">
  <div class="row">
		
	  <div class="col-xs-4 col-md-4">
			  <div class="main">
			    <div class="bars"><i class="fas fa-bars"></i></div>
   <ul class="main-ul">
      <li><a href="admin.html" id="targeted" class="dash">dashboard</a></li>
    <div class="dropdown">
      <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
        Halls
        <span class="caret"></span>
      </button>
      <ul class="dropdown-menu " aria-labelledby="dropdownMenu1">
        <li><a href="addnewhall.html">Add New Hall</a></li>
        <li><a href="listallhalls.html">List All Halls</a></li>
        <li><a href="listCategories.html">List Category</a></li>
        <li><a href="searchByCategory.html">Search By Category</a></li>
        <li><a href="searchByName.html">Search By Name</a></li>
        <li><a href="#">Update Hall</a></li>
  </ul>
    </div>
    <div class="dropdown">
      <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
        Users
        <span class="caret"></span>
      </button>
      <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
        <li><a href="listallusers.html">List All Users</a></li>
  </ul>
    </div>
    <div class="dropdown">
      <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
        Admin
        <span class="caret"></span>
      </button>
      <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
        <li><a href="addnewadmin.html">Add New Admin</a></li>
        <li><a href="ListAdmins.html">List All Admins</a></li>
        <li><a href="#">Update Admin Roles</a></li>
        <li><a href="#">Change Admin Password</a></li>
        <li><a href="#">Delete Admin</a></li>
  </ul>
    </div>
             <div class="dropdown">
      <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
        Other
        <span class="caret"></span>
      </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
        <li><a href="sendNotification.html">Send Push Notification</a></li>
        <li><a href="#">List Feedback Messages</a></li>
        </ul>
    </div>
    </ul>


			  </div>
	  </div>

    <div class="col-xs-4 col-md-4">
      <div class="logo">
      	<img src="img/logo2.png" >
      </div>
    </div>
      	<div class="col-md-4 col-xs-4">
		<div class="social-media">

		<ul class="list-inline c-info fright">
      <li><a href="pri.html" class="bor"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
        </ul>
	</div>
</div>	
		  
</div>
</div>
</div>
        </section>
    <div class="add">
        <h1 class="text-center">To add new hall please fill this form</h1>
    <form id="survey-form">
        <label id="name-label" for="name">Hall Name<br><input type="text" id="name" placeholder="Hall Name" name="hallName" required></label>
        <label id="name-label" for="name">Hall Adress<br><input type="text" id="ha" placeholder="Hall Adress" name="hallAdress" required></label>
         <label id="name-label" for="name">Hall Category<br></label><p >
           
         </p>
         <label>Categories</label><select id="demo"></select>
         <label>Roles</label><select id="roles"></select>
        <label id="name-label" for="name">Hall Description<br><input type="text" id="hd" placeholder="Hall Description" name="hallDescription" required></label>
        <label id="name-label" for="name">Hall Price<br><input type="text" id="hp" placeholder="Hall Price" name="hallPrice" required></label>
        <label id="name-label" for="name">Hall Location Long<br><input type="text" id="hl" placeholder="Hall Location Long" name="hallLocationLong" required></label>
        <label id="name-label" for="name">Hall Location Lat<br><input type="text" id="hla" placeholder="Hall Location Lat" name="hallLocationLat" required></label>
        <label id="name-label" for="name">Hall Special Offers<br><input type="text" id="hs" placeholder="Hall Special Offers" name="hallSpecialOffers"></label>
        <label id="name-label" for="name">Hall Phone Number<br><input type="text" id="hp" placeholder="Hall Phone Number" name="hallPhoneNumber" required></label>
        <label id="name-label" for="name">Hall Image (Max 6 Images)<br><input type="file" id="hi" placeholder="Hall Image" name="hallImage" multiple></label>
 <button type="submit" id="submit" value="Send" onclick="AddHall()" > send</button>/      <div id="res"></div>
      </form>
    </div>
 <script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/bootstrap.min.js"></script>
	<script type="text/javascript" src="js/edit.js"></script>
	<script type="text/javascript" src="js/wow.min.js"></script>
  <script type="text/javascript"> new WOW().init();</script>  
  <script>
  
  function AddHall(){
alert("done");
      var hallName=$("#name").val();
      var hallAdress=$("#ha").val();
      var hallCategory=$("#hc").val();
      var hallDescription=$("#hd").val();
      var hallPrice=$("#hp").val();
      var hallLocationLong=$("#hl").val();
      var hallLocationLat=$("#hla").val();
      var hallSpecialOffers=$("#hs").val();
      var hallPhoneNumber=$("#hp").val();
      var hallImage=$("#hi").val();

      let requestBody = {
          hallName : hallName,
          hallAdress : hallAdress,
          hallCategory : hallCategory,
          hallDescription : hallDescription,
          hallPrice : hallPrice,
          hallLocationLong : hallLocationLong,
          hallLocationLat : hallLocationLat,
          hallSpecialOffers : hallSpecialOffers,
          hallPhoneNumber : hallPhoneNumber,
          hallImage : hallImage
      }
     /* console.log(requestBody)
      const xhttp = new XMLHttpRequest();
      xhttp.onreadystatechange = function() {
          if (this.readyState == 4 && this.status == 200) {
              document.getElementById("res").innerHTML = this.responseText;
          }
      };*/
      var token =  window.localStorage.getItem('token'); 
      $.ajax({
        url: "https://hidden-ocean-87285.herokuapp.com/halls",
        type: 'POST',
        beforeSend: function (xhr) {
            /* Authorization header */
            xhr.setRequestHeader('authorization','Bearer '+ token );
        },
        data : {
            hallName : hallName,
            hallAdress : hallAdress,
            hallCategory : document.getElementById("demo").value,
            hallDescription : hallDescription,
            hallPrice : hallPrice,
            hallLocationLong : hallLocationLong,
            hallLocationLat : hallLocationLat,
            hallSpecialOffers : hallSpecialOffers,
            hallPhoneNumber : hallPhoneNumber,
            hallImage : hallImage
        },
        contentType: 'application/x-www-form-urlencoded',
        success: function (result) {
           // CallBack(result);
        },
        error: function (error) {
            
        }
    });
      
          
  }
  </script>
</body>
</html>